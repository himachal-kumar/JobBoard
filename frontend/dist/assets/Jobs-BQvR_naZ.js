import{u as ee,j as e,y as ue,z as me,B as l,l as je,d as ye,f as i,k as d,R as se,W as le,U as X,I as _,X as ge,Y as fe,Z as be,_ as ve,$ as Ce,a0 as Z,a1 as Se,o as we,a2 as ke,g as k,a3 as J,J as V,a4 as $,a5 as Ie,a6 as M,a7 as D,S as ae,a8 as E,E as Le,a9 as B,aa as P,ab as R,m as W,ac as Q,b as Fe,F as ze,ad as Te,G as N,ae as We,af as Ae,r as Je,ag as Me,ah as u}from"./mui-aM5Ef8QJ.js";import{r as m}from"./vendor-YL3_wyph.js";import{p as De,a as Ee,m as Be}from"./dummyData-CtD5epBD.js";const Pe=({job:a,userRole:y,isBookmarked:S=!1,hasApplied:t=!1,onBookmark:g,onApply:b,onShare:h,onViewDetails:f})=>{const I=ee(),[L,v]=m.useState(!1),F=()=>{v(!L)},z=()=>{g&&g(a.id)},A=()=>{b&&b(a)},s=()=>{h&&h(a)},o=()=>{f&&f(a)},c=()=>a.salaryMin&&a.salaryMax?`${a.salaryCurrency} ${a.salaryMin.toLocaleString()} - ${a.salaryMax.toLocaleString()}`:"Salary not specified",T=j=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(j),O=j=>({entry:"success",junior:"info",mid:"warning",senior:"error",lead:"secondary",executive:"primary"})[j]||"default",G=j=>({"full-time":"primary","part-time":"secondary",remote:"success",internship:"info",freelance:"warning"})[j]||"default";return e.jsxs(ue,{sx:{mb:2,transition:"all 0.3s ease-in-out","&:hover":{transform:"translateY(-4px)",boxShadow:I.shadows[8]},border:t?`2px solid ${I.palette.success.main}`:"none"},children:[e.jsxs(me,{sx:{pb:1},children:[e.jsxs(l,{sx:{display:"flex",alignItems:"flex-start",mb:2},children:[e.jsx(je,{src:a.employer.avatar,alt:a.employer.company||a.employer.fullName,sx:{width:56,height:56,mr:2},children:e.jsx(ye,{})}),e.jsxs(l,{sx:{flexGrow:1,minWidth:0},children:[e.jsx(i,{variant:"h6",component:"h3",sx:{fontWeight:600,color:"text.primary",mb:.5,cursor:"pointer","&:hover":{color:"primary.main"}},onClick:o,children:a.title}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:a.employer.company||a.employer.fullName}),e.jsxs(l,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:1},children:[e.jsx(d,{icon:e.jsx(se,{}),label:a.location,size:"small",variant:"outlined",color:"primary"}),e.jsx(d,{icon:e.jsx(le,{}),label:a.jobType,size:"small",color:G(a.jobType),variant:"outlined"}),e.jsx(d,{label:a.experienceLevel,size:"small",color:O(a.experienceLevel),variant:"outlined"}),a.isRemote&&e.jsx(d,{label:"Remote",size:"small",color:"success",variant:"outlined"})]})]}),e.jsxs(l,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",ml:1},children:[e.jsxs(l,{sx:{display:"flex",gap:.5,mb:1},children:[e.jsx(X,{title:S?"Remove bookmark":"Bookmark job",children:e.jsx(_,{size:"small",onClick:z,color:S?"primary":"default",children:S?e.jsx(ge,{}):e.jsx(fe,{})})}),e.jsx(X,{title:"Share job",children:e.jsx(_,{size:"small",onClick:s,children:e.jsx(be,{})})})]}),t&&e.jsx(d,{label:"Applied",size:"small",color:"success",icon:e.jsx(ve,{})})]})]}),e.jsxs(l,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:2,mb:2},children:[e.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(Ce,{color:"action",fontSize:"small"}),e.jsx(i,{variant:"body2",color:"text.secondary",children:c()})]}),e.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(Z,{color:"action",fontSize:"small"}),e.jsxs(i,{variant:"body2",color:"text.secondary",children:["Posted ",T(a.postedAt)]})]}),a.deadline&&e.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(Z,{color:"action",fontSize:"small"}),e.jsxs(i,{variant:"body2",color:"text.secondary",children:["Deadline ",T(a.deadline)]})]})]}),e.jsxs(l,{sx:{mb:2},children:[e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Required Skills:"}),e.jsxs(l,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[a.skills.slice(0,5).map((j,w)=>e.jsx(d,{label:j,size:"small",variant:"outlined",color:"default"},w)),a.skills.length>5&&e.jsx(d,{label:`+${a.skills.length-5} more`,size:"small",variant:"outlined",color:"default"})]})]}),e.jsx(Se,{in:L,timeout:"auto",unmountOnExit:!0,children:e.jsxs(l,{sx:{mt:2},children:[e.jsx(we,{sx:{mb:2}}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:2},children:a.description}),a.benefits&&a.benefits.length>0&&e.jsxs(l,{sx:{mb:2},children:[e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:1,fontWeight:600},children:"Benefits:"}),e.jsx(l,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:a.benefits.map((j,w)=>e.jsx(d,{label:j,size:"small",color:"success",variant:"outlined"},w))})]}),e.jsx(l,{sx:{display:"flex",alignItems:"center",gap:1},children:e.jsxs(i,{variant:"body2",color:"text.secondary",children:["Applications: ",a.applicationsCount]})})]})})]}),e.jsxs(ke,{sx:{pt:0,px:2,pb:2},children:[e.jsx(k,{size:"small",onClick:F,endIcon:e.jsx(J,{}),sx:{color:"text.secondary"},children:L?"Show less":"Show more"}),e.jsxs(l,{sx:{ml:"auto",display:"flex",gap:1},children:[e.jsx(k,{variant:"outlined",size:"small",onClick:o,children:"View Details"}),y==="candidate"&&!t&&e.jsx(k,{variant:"contained",size:"small",onClick:A,disabled:!a.isActive,children:"Apply Now"}),y==="candidate"&&t&&e.jsx(k,{variant:"outlined",size:"small",color:"success",disabled:!0,children:"Applied"})]})]})]})},K=({filters:a,onFiltersChange:y,onClearFilters:S})=>{const[t,g]=m.useState(a),[b,h]=m.useState(!1),f=s=>{g(o=>({...o,...s}))},I=()=>{y(t)},L=()=>{g({searchQuery:"",jobType:[],location:[],skills:[],experienceLevel:[],salaryRange:void 0,isRemote:void 0,category:[]}),S()},v=s=>(o,c)=>{h(c?s:!1)},F=()=>t.searchQuery||t.jobType&&t.jobType.length>0||t.location&&t.location.length>0||t.skills&&t.skills.length>0||t.experienceLevel&&t.experienceLevel.length>0||t.category&&t.category.length>0,z=[{value:"full-time",label:"Full Time"},{value:"part-time",label:"Part Time"},{value:"remote",label:"Remote"},{value:"internship",label:"Internship"},{value:"freelance",label:"Freelance"}],A=[{value:"entry",label:"Entry Level"},{value:"junior",label:"Junior"},{value:"mid",label:"Mid Level"},{value:"senior",label:"Senior"},{value:"lead",label:"Lead"},{value:"executive",label:"Executive"}];return e.jsxs(V,{sx:{p:3,mb:3},children:[e.jsxs(l,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[e.jsxs(l,{sx:{display:"flex",alignItems:"center"},children:[e.jsx($,{sx:{mr:1,color:"primary.main"}}),e.jsx(i,{variant:"h6",children:"Filter Jobs"})]}),F()&&e.jsx(k,{startIcon:e.jsx(Ie,{}),onClick:L,size:"small",color:"error",variant:"outlined",children:"Clear All"})]}),e.jsxs(M,{expanded:b==="search",onChange:v("search"),sx:{mb:1},children:[e.jsx(D,{expandIcon:e.jsx(J,{}),children:e.jsxs(l,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(ae,{sx:{mr:1,color:"primary.main"}}),e.jsx(i,{children:"Search"})]})}),e.jsx(E,{children:e.jsx(Le,{fullWidth:!0,placeholder:"Search by job title, company, or keywords...",value:t.searchQuery||"",onChange:s=>f({searchQuery:s.target.value}),size:"small"})})]}),e.jsxs(M,{expanded:b==="jobType",onChange:v("jobType"),sx:{mb:1},children:[e.jsx(D,{expandIcon:e.jsx(J,{}),children:e.jsxs(l,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(le,{sx:{mr:1,color:"primary.main"}}),e.jsx(i,{children:"Job Type"})]})}),e.jsx(E,{children:e.jsxs(B,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"Select Job Types"}),e.jsx(R,{multiple:!0,value:t.jobType||[],onChange:s=>f({jobType:s.target.value}),input:e.jsx(Q,{label:"Select Job Types"}),renderValue:s=>e.jsx(l,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:s.map(o=>{var c;return e.jsx(d,{label:(c=z.find(T=>T.value===o))==null?void 0:c.label,size:"small"},o)})}),children:z.map(s=>e.jsx(W,{value:s.value,children:s.label},s.value))})]})})]}),e.jsxs(M,{expanded:b==="location",onChange:v("location"),sx:{mb:1},children:[e.jsx(D,{expandIcon:e.jsx(J,{}),children:e.jsxs(l,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(se,{sx:{mr:1,color:"primary.main"}}),e.jsx(i,{children:"Location"})]})}),e.jsx(E,{children:e.jsxs(B,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"Select Locations"}),e.jsx(R,{multiple:!0,value:t.location||[],onChange:s=>f({location:s.target.value}),input:e.jsx(Q,{label:"Select Locations"}),renderValue:s=>e.jsx(l,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:s.map(o=>e.jsx(d,{label:o,size:"small"},o))}),children:De.map(s=>e.jsx(W,{value:s,children:s},s))})]})})]}),e.jsxs(M,{expanded:b==="skills",onChange:v("skills"),sx:{mb:1},children:[e.jsx(D,{expandIcon:e.jsx(J,{}),children:e.jsx(i,{children:"Skills"})}),e.jsx(E,{children:e.jsxs(B,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"Select Skills"}),e.jsx(R,{multiple:!0,value:t.skills||[],onChange:s=>f({skills:s.target.value}),input:e.jsx(Q,{label:"Select Skills"}),renderValue:s=>e.jsx(l,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:s.map(o=>e.jsx(d,{label:o,size:"small"},o))}),children:Ee.map(s=>e.jsx(W,{value:s,children:s},s))})]})})]}),e.jsxs(M,{expanded:b==="experience",onChange:v("experience"),sx:{mb:1},children:[e.jsx(D,{expandIcon:e.jsx(J,{}),children:e.jsx(i,{children:"Experience Level"})}),e.jsx(E,{children:e.jsxs(B,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"Select Experience Levels"}),e.jsx(R,{multiple:!0,value:t.experienceLevel||[],onChange:s=>f({experienceLevel:s.target.value}),input:e.jsx(Q,{label:"Select Experience Levels"}),renderValue:s=>e.jsx(l,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:s.map(o=>{var c;return e.jsx(d,{label:(c=A.find(T=>T.value===o))==null?void 0:c.label,size:"small"},o)})}),children:A.map(s=>e.jsx(W,{value:s.value,children:s.label},s.value))})]})})]}),e.jsxs(l,{sx:{mt:3,display:"flex",gap:2},children:[e.jsx(k,{variant:"contained",fullWidth:!0,onClick:I,disabled:!F(),children:"Apply Filters"}),e.jsx(k,{variant:"outlined",onClick:L,disabled:!F(),children:"Clear All"})]})]})},$e=()=>{var U;const a=ee(),y=Fe(a.breakpoints.down("md")),[S,t]=m.useState([]),[g,b]=m.useState([]),[h,f]=m.useState({}),[I,L]=m.useState("recent"),[v,F]=m.useState(1),[z]=m.useState(10),[A,s]=m.useState(!0),[o,c]=m.useState(!1),T="candidate";m.useEffect(()=>{(async()=>{s(!0),setTimeout(()=>{t(Be),s(!1)},1e3)})()},[]);const O=(n,r)=>n.filter(x=>{var C;if(r.searchQuery){const p=r.searchQuery.toLowerCase();if(!(x.title.toLowerCase().includes(p)||x.description.toLowerCase().includes(p)||((C=x.employer.company)==null?void 0:C.toLowerCase().includes(p))||x.skills.some(pe=>pe.toLowerCase().includes(p))))return!1}return!(r.jobType&&r.jobType.length>0&&!r.jobType.includes(x.jobType)||r.location&&r.location.length>0&&!r.location.includes(x.location)||r.skills&&r.skills.length>0&&!r.skills.some(H=>x.skills.includes(H))||r.experienceLevel&&r.experienceLevel.length>0&&!r.experienceLevel.includes(x.experienceLevel)||r.category&&r.category.length>0&&!r.category.includes(x.category))}),G=(n,r)=>{const x=[...n];switch(r){case"recent":return x.sort((C,p)=>new Date(p.postedAt).getTime()-new Date(C.postedAt).getTime());case"salary-high":return x.sort((C,p)=>(p.salaryMax||0)-(C.salaryMax||0));case"salary-low":return x.sort((C,p)=>(C.salaryMin||0)-(p.salaryMin||0));case"applications":return x.sort((C,p)=>p.applicationsCount-C.applicationsCount);default:return x}};m.useEffect(()=>{if(S.length>0){const n=O(S,h),r=G(n,I);b(r),F(1)}},[S,h,I]);const j=n=>{f(n)},w=()=>{f({})},ne=n=>{console.log("Bookmarking job:",n)},re=n=>{console.log("Applying to job:",n.title)},te=n=>{console.log("Sharing job:",n.title)},ie=n=>{console.log("Viewing job details:",n.title)},oe=n=>{L(n.target.value)},ce=(n,r)=>{F(r),window.scrollTo({top:0,behavior:"smooth"})},q=Math.ceil(g.length/z),Y=(v-1)*z,xe=Y+z,de=g.slice(Y,xe),he=()=>e.jsxs(V,{sx:{p:3,mb:2},children:[e.jsxs(l,{sx:{display:"flex",alignItems:"flex-start",mb:2},children:[e.jsx(u,{variant:"circular",width:56,height:56,sx:{mr:2}}),e.jsxs(l,{sx:{flexGrow:1},children:[e.jsx(u,{variant:"text",width:"60%",height:32,sx:{mb:1}}),e.jsx(u,{variant:"text",width:"40%",height:24,sx:{mb:1}}),e.jsxs(l,{sx:{display:"flex",gap:1},children:[e.jsx(u,{variant:"rectangular",width:80,height:24}),e.jsx(u,{variant:"rectangular",width:100,height:24}),e.jsx(u,{variant:"rectangular",width:70,height:24})]})]})]}),e.jsx(u,{variant:"text",width:"100%",height:20,sx:{mb:1}}),e.jsx(u,{variant:"text",width:"80%",height:20,sx:{mb:2}}),e.jsxs(l,{sx:{display:"flex",gap:1,mb:2},children:[e.jsx(u,{variant:"rectangular",width:60,height:24}),e.jsx(u,{variant:"rectangular",width:70,height:24}),e.jsx(u,{variant:"rectangular",width:80,height:24})]}),e.jsxs(l,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(u,{variant:"rectangular",width:100,height:36}),e.jsx(u,{variant:"rectangular",width:120,height:36})]})]});return e.jsxs(ze,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(l,{sx:{mb:4},children:[e.jsx(i,{variant:"h4",component:"h1",sx:{mb:1,fontWeight:600},children:"Find Your Dream Job"}),e.jsxs(i,{variant:"body1",color:"text.secondary",children:["Discover ",g.length," opportunities from top companies"]})]}),y&&e.jsx(Te,{color:"primary","aria-label":"filters",onClick:()=>c(!0),sx:{position:"fixed",bottom:16,right:16,zIndex:1e3},children:e.jsx($,{})}),e.jsxs(N,{container:!0,spacing:3,children:[!y&&e.jsx(N,{item:!0,xs:12,md:3,children:e.jsx(K,{filters:h,onFiltersChange:j,onClearFilters:w})}),e.jsxs(N,{item:!0,xs:12,md:9,children:[e.jsx(V,{sx:{p:3,mb:3},children:e.jsxs(l,{sx:{display:"flex",flexDirection:y?"column":"row",alignItems:y?"stretch":"center",justifyContent:"space-between",gap:2},children:[e.jsxs(l,{children:[e.jsx(i,{variant:"h6",sx:{mb:1},children:A?"Loading jobs...":`${g.length} jobs found`}),Object.keys(h).length>0&&e.jsxs(l,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[e.jsx(i,{variant:"body2",color:"text.secondary",children:"Active filters:"}),h.searchQuery&&e.jsx(d,{label:`Search: ${h.searchQuery}`,size:"small",color:"primary",variant:"outlined"}),(U=h.jobType)==null?void 0:U.map(n=>e.jsx(d,{label:n,size:"small",color:"primary",variant:"outlined"},n))]})]}),e.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:2,flexDirection:y?"column":"row"},children:[e.jsxs(B,{size:"small",sx:{minWidth:150},children:[e.jsx(P,{children:"Sort by"}),e.jsxs(R,{value:I,onChange:oe,label:"Sort by",startAdornment:e.jsx(We,{sx:{mr:1,color:"text.secondary"}}),children:[e.jsx(W,{value:"recent",children:"Most Recent"}),e.jsx(W,{value:"salary-high",children:"Highest Salary"}),e.jsx(W,{value:"salary-low",children:"Lowest Salary"}),e.jsx(W,{value:"applications",children:"Most Applications"})]})]}),y&&e.jsx(k,{variant:"outlined",startIcon:e.jsx($,{}),onClick:()=>c(!0),fullWidth:!0,children:"Filters"})]})]})}),A?e.jsx(l,{children:Array.from({length:5}).map((n,r)=>e.jsx(he,{},r))}):g.length===0?e.jsxs(V,{sx:{p:6,textAlign:"center"},children:[e.jsx(ae,{sx:{fontSize:64,color:"text.secondary",mb:2}}),e.jsx(i,{variant:"h6",sx:{mb:1},children:"No jobs found"}),e.jsx(i,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Try adjusting your filters or search criteria"}),e.jsx(k,{variant:"contained",onClick:w,startIcon:e.jsx($,{}),children:"Clear All Filters"})]}):e.jsxs(l,{children:[de.map(n=>e.jsx(Pe,{job:n,userRole:T,onBookmark:ne,onApply:re,onShare:te,onViewDetails:ie},n.id)),q>1&&e.jsx(l,{sx:{display:"flex",justifyContent:"center",mt:4},children:e.jsx(Ae,{count:q,page:v,onChange:ce,color:"primary",size:"large",showFirstButton:!0,showLastButton:!0})})]})]})]}),e.jsx(Je,{anchor:"right",open:o,onClose:()=>c(!1),PaperProps:{sx:{width:"100%",maxWidth:400}},children:e.jsxs(l,{sx:{p:2},children:[e.jsxs(l,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(i,{variant:"h6",children:"Filters"}),e.jsx(_,{onClick:()=>c(!1),children:e.jsx(Me,{})})]}),e.jsx(K,{filters:h,onFiltersChange:n=>{j(n),c(!1)},onClearFilters:()=>{w(),c(!1)}})]})})]})};export{$e as default};
